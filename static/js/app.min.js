var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[c]=a.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var c=0;return $jscomp.iteratorPrototype(function(){return c<d.length?{done:!1,value:d[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();var c=d[Symbol.iterator];return c?c.call(d):$jscomp.arrayIterator(d)};$jscomp.owns=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)};
$jscomp.polyfill=function(d,c,a,e){if(c){a=$jscomp.global;d=d.split(".");for(e=0;e<d.length-1;e++){var b=d[e];b in a||(a[b]={});a=a[b]}d=d[d.length-1];e=a[d];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(a,d,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.assign",function(d){return d?d:function(c,a){for(var e=1;e<arguments.length;e++){var b=arguments[e];if(b)for(var d in b)$jscomp.owns(b,d)&&(c[d]=b[d])}return c}},"es6-impl","es3");console.log("rocket.watch");
if(localStorage.getItem("rocketwatch.Settings.v2")){var $settings=JSON.parse(localStorage.getItem("rocketwatch.Settings.v2"));$settings.dark&&(document.querySelector("body").className+=" dark")}else $oldsettings=JSON.parse(localStorage.getItem("rocketwatch.Settings")||"{}"),$settings={dark:$oldsettings.dark||!1,notifications_launches:$oldsettings.notifications_launches||!0,notifications_launches_webcast:$oldsettings.notifications_launches_webcast||!1,notifications_launches_24:$oldsettings.notifications_launches_24||
!0,notifications_launches_60:$oldsettings.notifications_launches_60||!0,notifications_launches_20:$oldsettings.notifications_launches_20||!0,notifications_news:$oldsettings.notifications_news||!0},localStorage.setItem("rocketwatch.Settings.v2",JSON.stringify($settings));var $info=document.getElementById("info"),$main=document.getElementsByTagName("main")[0],$query=QueryString(),countdowns=[],lastHash=-1;
window.addEventListener("hashchange",function(){var d;d=0<location.hash.length?parseInt(location.hash.replace("#",""),10):1;lastHash!=d&&(lastHash=d,reloadhash())});
(window.reloadhash=function(){document.getElementById("background").innerHTML="";$info.innerHTML='<div class="card-content"><h1 class="white-text" id="loading-message">Loading...</h1></div>';$main.innerHTML='<div id="loading" style="height:500px"><div class="rocket"><div class="rocket-body"><div class="body"></div><div class="fin fin-left"></div><div class="fin fin-right"></div><div class="window"></div></div><div class="exhaust-flame"></div><ul class="exhaust-fumes"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><ul class="star"><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul></div></div>';$main.className=
"container";delete $main.id;for(var d in window.countdowns)window.clearInterval(window.countdowns[d]);d=document.querySelectorAll(".material-tooltip");if(d.length)for(var c in d){if(c==d.length-1)break;d[c].parentElement.removeChild(d[c])}document.title="rocket.watch";window.scrollTo(0,0);document.querySelector(".sidenav").style.transform="translateX(-105%)";document.querySelector(".sidenav-overlay")&&(document.querySelector(".sidenav-overlay").style.display="none");QueryString(function(a){window.$query=
QueryString();launched=0;ask4consent(function(){a.id&&(watch(a.id),launched++);a.event&&(watch(a.event,"customlive"),launched++);a.agency&&(agency(a.agency),launched++);a.pad&&(pad(a.pad),launched++);a.location&&(launchcentre(a.location),launched++);a.rocket&&(rocket(a.rocket),launched++);a.search&&(search(a.search),launched++);a.collection&&(search(a.collection+"&sort=asc"),launched++);a.country&&(nation(a.country),launched++);a.history&&(timeline(1,a.history||a.page||1),launched++);a.future&&(timeline(0,
a.future||a.page||1),launched++);a.settings&&(settings(),launched++);launched||home()},function(){home()});navigator.onLine?setTimeout(function(){document.getElementById("loading-message")&&(document.getElementById("loading-message").innerHTML='<h1>This is taking longer than usual.</h1><h5 style="cursor: pointer;" onclick="location.reload(true)">Try again</h5>')},5E3):document.getElementById("loading-message").innerHTML="<h1>You're offline</h1><h5>Check your internet connection</h5>"})})();
function home(){var d=0;$main.innerHTML='<ul class="tabs"><li class="tab"><a href="#future" target="_self" class="active">More Launches</a></li></ul>';$upcoming=document.createElement("div");$upcoming.style="padding: 0 !important";$main.appendChild($upcoming);$successful=document.createElement("div");$successful.style="padding: 0 !important";$main.appendChild($successful);$featured=document.createElement("div");$featured.id="featured";$featured.style="padding: 0 !important";$main.appendChild($featured);
refreshHome=function(){localStorage.removeItem("launch/next/4?status=1,5,6");localStorage.removeItem("launch?limit=4&sort=desc&mode=summary&status=3,4,7");for(var c in window.countdowns)window.clearInterval(window.countdowns[c]);home()};navigator.onLine&&(localStorage.removeItem("launch/next/4?status=1,5,6"),localStorage.removeItem("launch?limit=4&sort=desc&mode=summary&status=3,4,7"));load("launch/next/4?status=1,5,6?"+Date.now(),function(c){if(c.launches&&c.launches.length)for(var a in c.launches.reverse()){var e=
c.launches[a];1!=e.statuscode&&6!=e.statuscode||1==e.tbdtime||new Countdown(e.net,"countdown"+e.id);$info.innerHTML='<div id="video"></div><div class="card-content"><h1><a class="tooltipped" data-tooltip="More Info" href="/#rocket='+e.rocket.id+'">'+e.name.replace("|","</a>|")+'</h1><h3 id="countdown'+e.id+'">'+e.status+'</h3><div id="chips"><a class="chip" onclick="refreshHome()"><i class="fas fa-sync"></i>Refresh</a><a class="chip tooltipped" data-tooltip="More info" href="/#agency='+e.agency.id+
'"><img src="'+e.agency.icon+'?size=32" onerror=this.onerror=null;this.src="'+e.agency.countryFlag+'">'+e.agency.name+'</a><a class="chip tooltipped" data-tooltip="More info" href="/#pad='+(e.location.pads&&e.location.pads[0].id)+'"><i class="far fa-compass"></i>'+e.location.pads[0].name+'</a><a class="chip tooltipped" id="launchdate" data-tooltip="'+e.net+'"><i class="far fa-clock"></i>'+ReadableDateString(e.net)+'</a></div><p class="flow-text">'+e.description+'</p></div><div id="card-action" class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+
e.id+'">Details</a></div></div>';e.vidURLs[0]&&e.vidURLs[0].match("youtube")&&(document.querySelector("#video").innerHTML='<div class="video-container" id="videoframe1"><iframe name="videoframe1" src="'+e.vidURLs[0].replace("watch?v=","embed/")+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="videoframe1_reload" href="'+e.vidURLs[0].replace("watch?v=","embed/")+'?autoplay=1" target="videoframe1"><i class="fas fa-sync-alt"></i></a><a id="videoframe1_share" href="'+e.vidURLs[0]+
'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a></div></div>');if(d==c.count-1)break;$upcoming.innerHTML='<div class="col s12 l'+Math.floor(12/(c.count-1))+'"><div class="card"><div class="card-content"><h5 class="header black-text truncate"><a style="color:black" class="tooltipped" data-tooltip="More Info" href="/#rocket='+e.rocket.name.split("/")[0]+'">'+e.name.replace(" | ","</a></h5><h4 class='header black-text truncate'>").split(" (")[0]+'</h4><a class="chip tooltipped" data-tooltip="'+
e.agency.name+'" href="/#agency='+e.agency.id+'"><img src="'+e.agency.icon+'?size=32" onerror=this.src="'+e.agency.countryFlag+'">'+e.agency.shortname+'</a><a class="chip tooltipped" data-tooltip="'+e.location.name+'" href="/#pad='+e.location.pads[0].id+'"><i class="far fa-compass"></i>'+e.location.name.split(",")[0]+'</a></br><a class="chip tooltipped" data-tooltip="'+e.net+'"><i class="far fa-clock"></i>'+ReadableDateString(e.net)+'</a><h5 id="countdown'+e.id+'">'+e.status+'</h5></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+
e.id+'">Details</button></div></div></div>'+$upcoming.innerHTML;d++}else $main.className="valign-wrapper",$main.innerHTML='<div class="container"><h1 class="white-text">'+(c.msg||"Error has occured")+"</h1></div>"});load("launch?limit=4&sort=desc&mode=summary&status=3,4,7",function(c){$successful.innerHTML='<ul class="tabs"><li class="tab"><a href="#history" target="_self" class="active">Recent Launches</a></li></ul>';for(var a in c.launches){var e=c.launches[a];days=Math.floor((new Date-new Date(e.net))/
864E5);$successful.innerHTML+='<div class="col s12 m6 l3"><div class="card"><div class="card-content"><h5 class="header black-text truncate"><a style="color:black" class="tooltipped" data-tooltip="More info" href="/#rocket='+e.name.split(" |")[0].split("/")[0]+'">'+e.name.replace(" | ","</a></h5><h4 class='header black-text truncate'>").split(" (")[0]+'</h4><a class="chip tooltipped" data-tooltip="'+e.net+'"><i class="far fa-clock"></i>'+ReadableDateString(e.net)+'</a><a class="chip">'+(0<days?days+
" Days ago":"Today")+"</a><h5>"+e.status+'</h5></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+e.id+'">Watch</a></div></div>'}for(a=1;a<=$successful.childElementCount-1;a++)$successful.children[a].className="col s12 l"+Math.floor(12/($successful.childElementCount-1))});getJSON(location.origin+"/data/sources.json",function(c){if(c.featuring){$featured.innerHTML='<ul class="tabs"><li class="tab"><a class="active">Featured</a></li></ul>';for(var a in c.featuring)$featured.innerHTML+=
'<div class="col s12 m6 l4"><div class="card"><div class="card-content"><img class="circle logo" src="'+c.featuring[a].img+'" onerror=this.onerror=null;this.src=""><h5 class="header black-text truncate">'+c.featuring[a].name+"</h5><a class='max2lines'>"+c.featuring[a].desc+'</a></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="'+c.featuring[a].url+'">'+c.featuring[a].action+"</a></div></div>"}},!0);materialize()}
function search(d){"undefined"!=d?getJSON(location.origin+"/data/sources.json",function(c){for(var a in c.info.search)if(d.toLowerCase().match(a)&&!document.getElementById("maintabs")){data=c.info.search[a];$info.innerHTML='<div class="card-content"><img class="circle" src="'+data.img+'" onerror=this.onerror=null;this.src=""><h1 class="header black-text truncate">'+data.name+'</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a></div></br><a class="flow-text">'+
(data.desc||"")+'</a></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div>';for(var e in data.badges)badge=data.badges[e],document.getElementById("chips").innerHTML+='<a class="chip tooltipped" data-tooltip="'+(badge.tip||"")+'" href="'+(badge.url||"")+'"><img src="'+(badge.img||"")+'">'+(badge.name||"")+"</a>";break}document.getElementById("maintabs")||($info.innerHTML='<div class="card-content"><h1 class="header black-text truncate">Results for "'+d+'"</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a></div></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div>');
load("launch?limit=200&mode=summary&sort=desc&name="+d+"&format=stats"+("failures"==$query.type?"&status=4":""),function(b){(loading=document.getElementById("loading"))&&loading.parentNode.removeChild(loading);if(b.launches.length){$main.innerHTML+='<div id="results"><div id="next"></div><div id="switch" style="display:none" class="card-tabs"><ul class="tabs"><li class="tab"><a href="#past">Launched</a></li><li class="tab"><a href="#future">Upcoming</a></li></ul></div><div id="past"></div><div id="future"></div></div>';
$future=document.getElementById("future");$past=document.getElementById("past");$today=new Date;if(1==b.launches.length){document.getElementById("maintabs").innerHTML='<li class="tab"><a href="#results" class="active">Launches</a></li>'+document.getElementById("maintabs").innerHTML;var a=b.launches[0];document.getElementById("next").innerHTML='<div class="col s12"><div class="card"><div class="card-stacked"><div class="card-content"><h3 class="header black-text"><a style="color:black" class="tooltipped" data-tooltip="More info" href="/#rocket='+
a.name.split(" | ")[0].split("/")[0]+'">'+a.name.replace(" | ","</a></h3><h2>")+'</h2><a class="chip tooltipped" data-tooltip="'+a.net+'"><i class="far fa-clock"></i>'+ReadableDateString(a.net)+'</a><h4 id="countdown'+a.id+'">'+a.status+'</h4></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+a.id+'">Details</a></div></div></div>'}else{document.getElementById("maintabs").innerHTML='<li class="tab"><a href="#stats">Stats</a></li>'+document.getElementById("maintabs").innerHTML;
document.getElementById("maintabs").innerHTML='<li class="tab"><a href="#results" class="active">Launches</a></li>'+document.getElementById("maintabs").innerHTML;for(var c in b.launches){a=b.launches[c];if(Date.parse(a.net)<$today)$past.innerHTML+='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate"><a style="color:black" class="tooltipped" data-tooltip="More info" href="/#rocket='+a.name.split(" | ")[0].split("/")[0]+'">'+a.name.replace(" | ",
"</a></h5><h4 class='header black-text truncate'>")+'</h4><a class="chip tooltipped" data-tooltip="'+a.net+'"><i class="far fa-clock"></i>'+ReadableDateString(a.net)+"</a><h5>"+a.status+'</h5></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+a.id+'">Watch</a></div></div>';else if(Date.parse(a.net)>$today&&($future.innerHTML='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate"><a style="color:black" class="tooltipped" data-tooltip="More info" href="/#rocket='+
a.name.split(" | ")[0].split("/")[0]+'">'+a.name.replace(" | ","</a></h5><h4 class='header black-text truncate'>")+'</h4><a class="chip tooltipped" data-tooltip="'+a.net+'"><i class="far fa-clock"></i>'+ReadableDateString(a.net)+"</a><h5>"+a.status+'</h5></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+a.id+'">Details</a></div></div></div>'+$future.innerHTML),1==a.statuscode||5==a.statuscode||6==a.statuscode)document.getElementById("next").innerHTML='<div class="col s12"><div class="card"><div class="card-stacked"><div class="card-content"><h3 class="header black-text"><a style="color:black" class="tooltipped" data-tooltip="More info" href="/#rocket='+
a.name.split(" | ")[0].split("/")[0]+'">'+a.name.replace(" | ","</a></h3><h2>")+'</h2><a class="chip tooltipped" data-tooltip="'+a.net+'"><i class="far fa-clock"></i>'+ReadableDateString(a.net)+'</a><h4 id="countdown'+a.id+'">'+a.status+'</h4></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+a.id+'">Details</a></div></div></div>',1!=a.statuscode&&6!=a.statuscode||new Countdown(a.net,"countdown"+a.id);$future.innerHTML&&$past.innerHTML&&(document.getElementById("switch").style.display=
"unset")}a=[];c=[];var e=[],d=[],g;for(g in b.stats.byYear)g<=(new Date).getUTCFullYear()&&(a.push(parseInt(g)),c.push(b.stats.byYear[g][1]+b.stats.byYear[g][2]),e.push(b.stats.byYear[g][3]),d.push(b.stats.byYear[g][4]));for(var k in b.rockets);$stats=document.createElement("div");$stats.id="stats";$main.appendChild($stats);$stats.innerHTML+='<div class="col s12"><div class="card"><div class="video-container"><canvas id="launchesPerYear"></canvas></div></div></div>';$stats.innerHTML+='<div class="col s12 m6"><div class="card-panel"><div class="video-container"><canvas id="successRate"></canvas></div><p class="flow-text">'+
Math.abs(Math.round(100*(1-(b.stats.byStatus[4]&&b.stats.byStatus[4].length||0)/(b.stats.byStatus[3]&&b.stats.byStatus[3].length||0)))).toString().replace("-Infinity","0")+"% </p></div></div>";$stats.innerHTML+='<div class="col s12 m6"><div class="card-panel"><div class="video-container"><h1>'+((b.stats.byStatus[1]&&b.stats.byStatus[1].length||0)+(b.stats.byStatus[2]&&b.stats.byStatus[2].length||0))+'</h1></div><p class="flow-text">Confirmed launch backlog</p></div></div>';new Chart(document.getElementById("launchesPerYear").getContext("2d"),
{type:"bar",data:{labels:a,datasets:[{label:"Failures",backgroundColor:"rgb(255, 99, 132)",data:d},{label:"Successes",backgroundColor:"rgb(75, 192, 192)",data:e},{label:"Planned",backgroundColor:"rgb(201, 203, 207)",data:c}]},options:{tooltips:{mode:"label",callbacks:{afterTitle:function(){window.launchTotal=0},label:function(a,b){var c=b.datasets[a.datasetIndex],e=parseFloat(c.data[a.index]);window.launchTotal+=e;return 0===e?"":c.label+": "+e.toLocaleString()},footer:function(){return"TOTAL: "+
window.launchTotal.toLocaleString()}}},title:{display:!0,text:"Launches per Year"},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{stepSize:5}}]}}});new Chart(document.getElementById("successRate").getContext("2d"),{type:"doughnut",data:{labels:["Failures","Successes"],datasets:[{data:[b.stats.byStatus[4]&&b.stats.byStatus[4].length||0,b.stats.byStatus[3]&&b.stats.byStatus[3].length||0],backgroundColor:["rgb(255, 99, 132)","rgb(75, 192, 192)"]}]},options:{title:{display:!0,text:"Success Rate"},
legend:{display:!1}}})}b.stats.byStatus[3]&&(document.getElementById("chips").innerHTML+='<a class="chip">'+b.stats.byStatus[3].length+" successful launches</a>");b.stats.byStatus[4]&&"failures"!=$query.type?document.getElementById("chips").innerHTML+='<a class="chip tooltipped" data-tooltip="Filter failures only" href="/'+(location.search||location.hash)+'&type=failures">'+b.stats.byStatus[4].length+" failures</a>":"failures"==$query.type&&(document.getElementById("chips").innerHTML+='<a class="chip">'+
b.stats.byStatus[4].length+" failures (Failures Only)</a>")}else document.getElementById("chips")&&(document.getElementById("chips").innerHTML+='<a class="chip">No launches</a>'),document.getElementById("news")||document.getElementById("information")||($main.innerHTML='<h1 class="white-text">'+(b.msg||b.code).replace("None found","No Launches")+"</h1></br>");materialize()})}):(enter=function(c){return 13==c.which||13==c.keyCode?(location.hash="search="+document.getElementsByTagName("input")[0].value,
!1):!0},$info.innerHTML='<div class="card-content"><h1 class="header black-text truncate">What are you looking for?</h1></div>',$main.innerHTML='<div class="row"><div class="col s12"><div class="card"><div class="card-content"><div class="input-field"><input onkeypress="return enter(event)" type="text" name="search"></div></div><div class="card-action"><a onclick="(location.hash = \'search=\' + document.getElementsByTagName(\'input\')[0].value)" class="waves-effect waves-light btn hoverable">Submit</a></div></div></div>')}
function agency(d){if("undefined"!=d)load("agency/"+d+"?mode=verbose&format=news",function(a){if(a.agencies.length){a=a.agencies[0];document.getElementById("richEmbed").innerHTML='{ "@context": "https://schema.org", "@type": "Organization", "name": "'+a.name+'", "url": "'+(a.infoURL||a.info)+'", "logo": "'+(a.icon||a.img)+'" }';$info.innerHTML='<div class="card-content"><img class="circle logo materialboxed" src="'+a.icon+'" onerror=this.onerror=null;this.style.display="none";><h1 class="tooltipped" data-tooltip="'+
a.shortname+'">'+a.name.split(" (")[0]+'</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a><a class="chip tooltipped" data-tooltip="Country summary" href="/#country='+a.countryCode+'"><img src="'+a.countryFlag+'">'+a.countryCode+'</a><a class="chip">Founded: '+a.founded+'</a></div><p class="flow-text">'+a.description+'</p></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div></div>';
for(var c in a.social){"failures"==$query.type&&($list.style.display="none");$main.innerHTML+='<div id="news"><div class="col s12"><div class="card"><div class="card-stacked"><div class="card-content"><h3 class="header black-text">Get notified about agency news and updates:</h3></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" onclick="saveValue(\'notifications_agency_'+a.id+"', "+!$settings["notifications_agency_"+a.id]+");this.innerHTML = 'Saved'\">"+($settings["notifications_agency_"+
a.id]?"Unsubscribe":"Subscribe")+'</a></div></div></div><div class="card-tabs"><ul id="tabs" class="tabs tabs-fixed-width"></ul></div></div>';document.getElementById("maintabs").innerHTML+='<li class="tab"><a href="#news">News</a></li>';$list=document.getElementById("news");if(a.news.reddit){document.getElementById("tabs").innerHTML+='<li class="tab"><a class="active" href="#reddit">Reddit</a></li>';var b=document.createElement("div");b.id="reddit";for(var d in a.news.reddit)c=a.news.reddit[d],b.innerHTML+=
'<div class="col s12"><div class="card"><div class="card-content"><img class="materialboxed circle" onerror=this.onerror=null;this.style.display="none" src="'+c.img+'" /><h5>'+c.title+'</h5><p class="flow-text">'+c.content+'</p></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="'+c.url+'" target="_blank">Read more</a></div></div></div></div>';$list.appendChild(b)}if(a.news.facebook){document.getElementById("tabs").innerHTML+='<li class="tab"><a href="#facebook">Facebook</a></li>';
b=document.createElement("div");b.id="facebook";for(d in a.news.facebook)c=a.news.facebook[d],b.innerHTML+='<div class="col s12"><div class="card"><div class="card-content"><img class="materialboxed circle" onerror=this.onerror=null;this.style.display="none" src="'+c.img+'" /><h5>'+c.title+'</h5><p class="flow-text">'+c.content+'</p></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="'+c.url+'" target="_blank">Read more</a></div></div></div></div>';$list.appendChild(b)}if(a.news.youtube){document.getElementById("tabs").innerHTML+=
'<li class="tab"><a href="#youtube">YouTube</a></li>';b=document.createElement("div");b.id="youtube";for(d in a.news.youtube)c=a.news.youtube[d],b.innerHTML+='<div class="col s12"><div class="card"><div class="video-container"><iframe src="'+c.url+'"></iframe></div><div class="card-content"><p class="flow-text">'+c.content+"</p></div></div></div>";$list.appendChild(b)}a.news.twitter&&(document.getElementById("tabs").innerHTML+='<li class="tab"><a href="#twitter">Twitter</a></li>',d=document.createElement("div"),
d.id="twitter",d.innerHTML+='<div class="col s12"><div class="card"><div class="video-container"><a class="twitter-timeline" data-dnt="true" href="https://twitter.com/'+a.social.twitter+'" '+($settings.dark?' data-theme="dark"':"")+"></a></div></div></div>",$list.appendChild(d),twttr&&twttr.widgets.load());break}a.wiki.length&&(console.log(a.wiki),document.getElementById("maintabs").innerHTML+='<li class="tab"><a href="#information">Info</a></li>',$main.innerHTML+='<div id="information"><div class="card"><div class="video-container"><iframe  src="'+
a.wiki.replace("http://","https://")+'"></iframe></div></div></div>');search((a.islsp?"&lsp=":"&agency=")+a.id)}else $main.innerHTML='<h1 class="white-text" ="location.reload(true)">'+a.msg||a.status||"Error</h1>"});else{var c=parseInt($query.page)||1;load("agency?limit=30&islsp=1&offset="+30*(c-1),function(a){if(a.agencies.length){$main.innerHTML="";$info.innerHTML='<div class="card-content"><h1>Agencies</h1><div id="chips"><div style="display:'+(1==c?"none":"unset")+'" ><a class="chip" href="/#agency&page='+
(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+c+'</a><div style="display:'+(c==Math.ceil(a.total/30)?"none":"unset")+'"><a  class="chip" href="/#agency&page='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>';for(var d in a.agencies){var b=a.agencies[d];$main.innerHTML+='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate">'+b.name+'</h5><a class="chip"><img src="'+
b.icon+'" onerror=this.onerror=null;this.src="'+b.countryFlag+'">'+b.abbrev+'</a><a class="chip">'+b.type+' Agency</a></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#agency='+b.id+'">Details</a></div></div>'}$main.innerHTML+='<div class="col s12"><div class="card"><ul class="pagination"><li class="'+(1==c?'disabled" style="pointer-events:none;"':"waves-effect")+'" ><a href="/#agency&page='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></li> Page '+
c+"/"+Math.ceil(a.total/30)+' <li class="'+(c==Math.ceil(a.total/30)?'disabled" style="pointer-events:none;"':"waves-effect")+'"><a href="/#agency&page='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></li></ul></div></div>'}else $main.innerHTML='<h1 class="white-text" onclick="location.reload(true)">'+a.msg||a.status||"Error</h1>";load("agency?limit=30&mode=verbose&islsp=1&offset="+30*c)})}}
function nation(d){load("agency?islsp=1&countryCode="+d,function(c){if(c.agencies.length){var a=c.agencies[0];$info.innerHTML='<div class="card-content"><img class="circle materialboxed" src="'+a.countryFlag+'" onerror=this.onerror=null;this.style.display="none"><h1>'+d+'</h1><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"><li class="tab"><a href="#agencies">Agencies</a></li></ul></div></div>';
$main.innerHTML="";$agencies=document.createElement("div");$agencies.id="agencies";$main.appendChild($agencies);for(a in c.agencies)a=c.agencies[a],$agencies.innerHTML+='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate">'+a.name+'</h5><a class="chip"><img src="'+a.icon+'" onerror=this.onerror=null;this.style.display="none">'+a.abbrev+'</a><a class="chip">'+a.type+' Agency</a></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#agency='+
a.id+'">Details</a></div>'}else $main.innerHTML='<h1 class="white-text" onclick="location.reload(true)">Not found</h1>'});load("location?countrycode="+d,function(c){if(c.locations.length){document.getElementById("maintabs").innerHTML+='<li class="tab"><a href="#locations">Launch Locations</a></li>';$locations=document.createElement("div");$locations.id="locations";$main.appendChild($locations);for(var a in c.locations){var d=c.locations[a];$locations.innerHTML+='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate">'+
d.name+'</h5><a class="chip"><img src="'+d.countryFlag+'">'+d.countryCode+'</a></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#location='+d.id+'">Details</a></div></div>'}}});materialize()}
function pad(d){var c=document.createElement("div");$main.appendChild(c);var a=document.createElement("div");a.id="information";a.className="col s12";a.style.display="none";$main.appendChild(a);if("undefined"!=d)load("pad/"+d+"?mode=verbose",function(b){b.pads.length?(b=b.pads[0],document.getElementById("richEmbed").innerHTML='{ "@context": "https://schema.org", "@type": "Organization", "name": "'+b.name+'", "url": "'+(b.infoURL||b.info)+'", "logo": "'+(b.icon||b.img)+'" }',$info.innerHTML='<div class="card-content"><img class="circle materialboxed" src="'+
b.img+'" onerror=this.onerror=null;this.style.display="none"><h1>'+b.name+'</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a><a class="chip tooltipped"data-tooltip="Country summary" href="/#country='+(b.agency&&b.agency.countryCode)+'"><img src="'+(b.agency&&b.agency.countryFlag)+'">'+(b.agency&&b.agency.countryCode)+'</a><a class="chip tooltipped" data-tooltip="More info" href="/#agency='+(b.agency&&b.agency.id)+'"><img src="'+
b.agency.icon+'?size=32" onerror=this.onerror=null;this.style.display="none">'+(b.agency&&b.agency.name)+'</a></div></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div>',document.getElementById("maintabs").innerHTML='<li class="tab"><a href="#information">Info</a></li>'+document.getElementById("maintabs").innerHTML,a.innerHTML='<div class="card"><div class="video-container"><iframe src="'+b.map+'"></iframe></div></div>',b.info&&(a.innerHTML+='<div class="card"><div class="video-container"><iframe  src="'+
b.info+'"></iframe></div></div>'),search("&locationid="+b.id)):r.innerHTML='<h1 class="white-text" onclick="location.reload(true)">'+b.msg||b.status||"Error</h1>"});else{var e=parseInt($query.page)||1,a=28;load("pad?limit="+a+"&mode=verbose&retired=0&offset="+a*(e-1),function(b){if(b.pads.length){$info.innerHTML='<div class="card-content"><h1>Launch pads</h1><div id="chips"><div style="display:'+(1==e?"none":"unset")+'" ><a class="chip" href="/#pad&page='+(e-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+
e+'</a><div style="display:'+(e==Math.ceil(b.total/a)?"none":"unset")+'"><a  class="chip" href="/#pad&page='+(e+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>';$main.innerHTML="";for(var c in b.pads){var d=b.pads[c];$main.innerHTML+='<div class="col s12 m6 l3"><div class="card"><div class="card-image"><img src="'+d.img+'"><span class="card-title">'+d.name+'</span></div><div class="card-content"><a class="chip" href="/#agency='+d.agency.id+'">'+d.agency.abbrev+'</a><a class="chip">'+
d.agency.type+' Pad</a></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" class="tooltipped" data-tooltip="More info" href="/#pad='+d.id+'">Details</a></div>'}$main.innerHTML+='<div class="col s12"><div class="card"><ul class="pagination"><li class="'+(1==e?'disabled" style="pointer-events:none;"':"waves-effect")+'" ><a href="#pad&page='+(e-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></li> Page '+e+"/"+Math.ceil(b.total/a)+' <li class="'+(e==Math.ceil(b.total/
a)?'disabled" style="pointer-events:none;"':"waves-effect")+'"><a href="#pad&page='+(e+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></li></ul></div></div>'}else $main.innerHTML='<h1 class="white-text" onclick="location.reload(true)">'+b.msg||b.status||"Error</h1>";load("pad?limit="+a+"&mode=verbose&retired=0&offset="+a*e)})}}
function launchcentre(d){var c=document.createElement("div");$main.appendChild(c);var a=document.createElement("div");a.id="information";a.className="col s12";a.style.display="none";$main.appendChild(a);if("undefined"!=d)load("location/"+d+"?mode=verbose",function(b){b.locations.length?(b=b.locations[0],document.getElementById("richEmbed").innerHTML='{ "@context": "https://schema.org", "@type": "Organization", "name": "'+b.name+'", "url": "'+(b.infoURL||b.info)+'", "logo": "'+(b.icon||b.img)+'" }',
$info.innerHTML='<div class="card-content"><img class="circle materialboxed" src="'+b.img+'" onerror=this.onerror=null;this.style.display="none"><h1>'+b.name.split(", ")[0]+'</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a><a class="chip tooltipped" data-tooltipped="Country summary" href="/#country='+b.countryCode+'"><img src="'+b.countryFlag+'">'+b.name.split(", ")[1]+", "+b.countryCode+'</a></div></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div>',
document.getElementById("maintabs").innerHTML='<li class="tab"><a href="#information">Info</a></li>'+document.getElementById("maintabs").innerHTML,a.innerHTML='<div class="card"><div class="video-container"><iframe src="'+b.map+'""></iframe></div></div>',b.info&&(a.innerHTML+='<div class="card"><div class="video-container"><iframe  src="'+b.info+'"></iframe></div></div>'),search("&padLocation="+b.id)):r.innerHTML='<h1 class="white-text" onclick="location.reload(true)">'+b.msg||b.status||"Error</h1>"});
else{var e=parseInt($query.page)||1,a=30;load("location?limit="+a+"&mode=verbose&retired=0&offset="+a*(e-1),function(b){if(b.locations.length){$info.innerHTML='<div class="card-content"><h1>Launch Centers</h1><div id="chips"><div style="display:'+(1==e?"none":"unset")+'" ><a class="chip" href="/#location&page='+(e-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+e+'</a><div style="display:'+(e==Math.ceil(b.total/a)?"none":"unset")+'"><a  class="chip" href="/#location&page='+
(e+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>';$main.innerHTML="";for(var c in b.locations){var d=b.locations[c];$main.innerHTML+='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate">'+d.name+'</h5><a class="chip"><img src="'+d.countryFlag+'">'+d.countryCode+'</a></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#location='+d.id+'">Details</a></div></div>'}$main.innerHTML+=
'<div class="col s12"><div class="card"><ul class="pagination"><li class="'+(1==e?'disabled" style="pointer-events:none;"':"waves-effect")+'" ><a href="#location&page='+(e-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></li> Page '+e+"/"+Math.ceil(b.total/a)+' <li class="'+(e==Math.ceil(b.total/a)?'disabled" style="pointer-events:none;"':"waves-effect")+'"><a href="#location&page='+(e+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></li></ul></div></div>'}else $main.innerHTML=
'<h1 class="white-text" onclick="location.reload(true)">'+b.msg||b.status||"Error</h1>";load("location?limit="+a+"&mode=verbose&retired=0&offset="+a*e)})}}
function rocket(d){if("undefined"!=d)load("rocket/"+d+"?mode=verbose",function(a){a.rockets.length?(a=a.rockets[0],document.getElementById("richEmbed").innerHTML='{ "@context": "https://schema.org", "@type": "Organization", "name": "'+a.name+'", "url": "'+(a.info||a.infoURL)+'", "logo": "'+(a.icon||a.img)+'" }',$info.innerHTML='<div class="card-content"><img class="circle materialboxed" src="'+a.img+'" onerror=this.onerror=null;this.style.display="none"><h1>'+a.name+'</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a><a class="chip tooltipped" data-tooltip="More info" href="/#country='+
a.agency.countryCode+'"><img src="'+a.agency.countryFlag+'">'+a.agency.countryCode+'</a><a class="chip tooltipped" data-tooltip="More info" href="/#agency='+a.agency.id+'"><img src="'+a.agency.icon+'">'+a.agency.shortname+'</a></div><p class="flow-text">'+a.description+'</p></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div>',a.wiki.length&&($main.innerHTML+='<div id="information"><div class="card"><div class="video-container"><iframe  src="'+a.wiki.replace("http://",
"https://")+'"></iframe></div></div></div>',document.getElementById("maintabs").innerHTML='<li class="tab"><a href="#information">Info</a></li>'+document.getElementById("maintabs").innerHTML),search("&rocketid="+a.id)):$main.innerHTML='<h1 class="white-text" onclick="location.reload(true)">'+a.msg||a.status||"Error</h1>"});else{var c=parseInt($query.page)||1;load("rocket?mode=verbose&limit=27&offset="+27*(c-1),function(a){if(0<a.rockets.length){$info.innerHTML='<div class="card-content"><h1>Rockets</h1><div id="chips"><div style="display:'+
(1==c?"none":"unset")+'" ><a class="chip" href="/#rocket&page='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+c+'</a><div style="display:'+(c==Math.ceil(a.total/27)?"none":"unset")+'"><a  class="chip" href="/#rocket&page='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>';$main.innerHTML="";for(var d in a.rockets){var b=a.rockets[d];$main.innerHTML+='<div class="col s12 m6 l4"><div class="card"><div class="card-image"><a href="/#rocket='+
b.id+'"><img src="'+(b.img||"https://rocket.watch/res/rocket_placeholder.jpg")+'" ></a><span class="card-title"><a class="chip" href="/#agency='+b.agency.id+'">'+b.agency.name+'</a><a class="chip" href="/#rocket='+b.id+'">'+b.name+"</a></span></div></div></div>"}$main.innerHTML+='<div class="col s12"><div class="card"><ul class="pagination"><li class="'+(1==c?'disabled" style="pointer-events:none;"':"waves-effect")+'" ><a href="/#rocket&page='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></li> Page '+
c+"/"+Math.ceil(a.total/27)+' <li class="'+(c==Math.ceil(a.total/27)?'disabled" style="pointer-events:none;"':"waves-effect")+'"><a href="/#rocket&page='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></li></ul></div></div>'}else $main.innerHTML='<h1 class="white-text" onclick="location.reload(true)">'+a.msg||a.status||"Error</h1>";load("rocket?mode=verbose&limit=27&offset="+27*c)})}}
function timeline(d,c){c=parseInt(c)||1;$main.innerHTML="";load("launch?mode=verbose&limit=20"+(d?"&sort=desc&status=3,4,7":"&status=1,2,5,6")+"&offset="+20*(c-1),function(a){for(var e in a.launches){var b=a.launches[e];$main.innerHTML+='<div class="col s12 m6"><div class="card"><div class="card-content"><h5 class="header black-text truncate"><a style="color:black" class="tooltipped" data-tooltip="More info" href="/#rocket='+b.name.split(" |")[0].split("/")[0]+'">'+b.name.replace(" | ","</a></h5><h4 class='header black-text truncate'>")+
'</h4><a class="chip tooltipped" data-tooltip="'+b.agency.name+'" href="/#agency='+b.agency.id+'"><img src="'+b.agency.icon+'?size=32" onerror=this.src="'+b.agency.countryFlag+'">'+b.agency.shortname+'</a><a class="chip tooltipped" data-tooltip="'+b.location.name+'" href="/#pad='+b.location.pads[0].id+'"><i class="far fa-compass"></i>'+b.location.name.split(",")[0]+'</a></br><a class="chip tooltipped" data-tooltip="'+b.net+'"><i class="far fa-clock"></i>'+ReadableDateString(b.net)+'</a><h5 id="countdown'+
b.id+'">'+b.status+'</h5></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" href="/#id='+b.id+'">More</a></div></div>';1!=b.statuscode&&6!=b.statuscode||new Countdown(b.net,"countdown"+b.id)}d?($info.innerHTML='<div class="card-content"><h1>Historical launches</h1><div id="chips"><div style="display:'+(1==c?"none":"unset")+'" ><a class="chip" href="/#history='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+c+'</a><div style="display:'+
(c==Math.ceil(a.total/20)?"none":"unset")+'"><a  class="chip" href="/#history='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>',$main.innerHTML+='<div class="col s12"><div class="card"><div style="display:'+(1==c?"none":"unset")+'" ><a class="chip" href="/#history='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+c+'</a><div style="display:'+(c==Math.ceil(a.total/20)?"none":"unset")+'"><a  class="chip" href="/#history='+
(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>'):($info.innerHTML='<div class="card-content"><h1>Planned launches</h1><div id="chips"><div style="display:'+(1==c?"none":"unset")+'" ><a class="chip" href="/#future='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+c+'</a><div style="display:'+(c==Math.ceil(a.total/20)?"none":"unset")+'"><a  class="chip" href="/#future='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div></div>',
$main.innerHTML+='<div class="col s12"><div class="card"><div style="display:'+(1==c?"none":"unset")+'" ><a class="chip" href="/#future='+(c-1)+'"><i id="pagination" class="fas fa-chevron-left"></i></a></div><a class="chip">Page '+c+'</a><div style="display:'+(c==Math.ceil(a.total/20)?"none":"unset")+'"><a  class="chip" href="/#future='+(c+1)+'"><i id="pagination" class="fas fa-chevron-right"></i></a></div></div></div>');load("launch?mode=verbose&limit=20"+(d?"&sort=desc&status=3,4,7":"&status=1,2,5,6")+
"&offset="+20*c)})}
function watch(d,c){c=c||"live";var a=document.createElement("div");a.id="live";$main.className="";$main.innerHTML="";$main.appendChild(a);load(c.match("custom")?d+"?format=customlive":"launch?mode=verbose"+(parseInt(d)?"&id="+d:"&limit=1&name="+d)+"&format="+("countdown"==$query.mode?"":c),function(e){var b=e.launches[0],n=b.changed;refreshLaunch=function(){localStorage.removeItem("launch?mode=verbose&id="+b.id+"&format=live");for(var a in window.countdowns)window.clearInterval(window.countdowns[a]);watch(d,
c)};updateCountdown=function(){load("launch?mode=summary"+(parseInt(d)?"&id="+d:"&limit=1&name="+d)+"&changed="+ISODateString(Date.parse(n)+1E3).replace("T"," ").split(".")[0],function(a){if("error"!=a.status&&(l=a.launches[0])){console.log("Updating Countdown");for(var c in window.countdowns)window.clearInterval(window.countdowns[c]);m.innerHTML=l.status;n=l.changed;1==l.statuscode||6==l.statuscode?(M.toast({html:"Updated Countdown"}),count=setInterval(function(){Date.parse(l.net);Date.parse(new Date);
document.title="["+Countdown(l.net)+"] "+l.name.split("|")[1];m.innerHTML=Countdown(l.net)},1E3),window.countdowns.push(count)):l.net!=b.net&&location.reload()}})};document.title=b.name;document.getElementById("richEmbed").innerHTML='{ "@context": "https://schema.org", "@type": "Article", "name": "'+b.name+'", "headline": "Live Launch Updates", "datePublished": "'+b.isostart+'", "dateModified": "'+ISODateString(new Date).split(".")[0]+'+00:00", "image": "'+b.agency.icon+'", "url": "'+location.href+
'", "articleBody": "'+b.description+'", "author": { "@type": "Organization", "name": "'+b.agency.name+'" }, "publisher" : { "@type" : "Organization", "name" : "rocket.watch", "logo": {"@type": "ImageObject", "url":location.origin + "/logo.png"} }, "mainEntityOfPage": {"@type": "mainEntityOfPage", "@id":location.origin + "/"} }';$info.innerHTML='<div id="video"></div><div id="details" class="card-content"><h1><a class="tooltipped" data-tooltip="More info" href="/#rocket='+b.rocket.id+'">'+b.name.replace("|",
"</a> | ")+'</h1><h3 id="countdown'+b.id+'">'+b.status+'</h3><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a><a class="chip" onclick="refreshLaunch()"><i class="fas fa-sync"></i>Refresh</a><a class="chip tooltipped" data-tooltip="More info" href="/#agency='+b.agency.id+'"><img src="'+b.agency.icon+'?size=32" onerror=this.onerror=null;this.src="'+b.agency.countryFlag+'">'+b.agency.name+'</a><a class="chip tooltipped" data-tooltip="More info" href="/#pad='+
(b.location.pads&&b.location.pads[0].id)+'"><i class="far fa-compass"></i>'+b.location.pads[0].name+'</a><a class="chip tooltipped" id="launchdate" data-tooltip="'+b.net+'"><i class="far fa-clock"></i>'+ReadableDateString(b.net)+'</a></div><p class="flow-text" id="description">'+b.description+'</p></div><div id="buttons"></div><div class="card-tabs"><ul id="maintabs" class="tabs tabs-fixed-width"></ul></div></div>';var h=document.querySelector("#video");document.querySelector("#details");var f=document.querySelector("#buttons"),
m=document.querySelector("#countdown"+b.id),g=document.querySelector("#description"),k=document.querySelector("#chips");document.querySelector("#maintabs");navigator.share&&(f.innerHTML+='<a class="waves-effect waves-light btn hoverable" onclick="window.share()"><i class="fas fa-share-alt"></i></a>',window.share=function(){navigator.share({title:b.name,text:b.description,url:location.href})});1!=b.tbdtime&&("countdown"==$query.mode?f.innerHTML+='<a class="waves-effect waves-light btn hoverable tooltipped" href="/'+
(location.search||location.hash).replace("&mode=countdown","")+'" data-tooltip="Load live sources">Exit countdown mode</a>':$query.mode||3==b.statuscode||4==b.statuscode||7==b.statuscode||(f.innerHTML+='<a class="waves-effect waves-light btn hoverable" href="/'+(location.search||location.hash)+'&mode=countdown">Countdown only</a>'),"tv"==$query.mode?(g.style.display="none",f.innerHTML+='<a class="waves-effect waves-light btn hoverable" href="/'+(location.search||location.hash).replace("&mode=tv",
"")+'">Exit TV mode</a>'):!$query.mode&&3!=b.statuscode&&4!=b.statuscode&&7!=b.statuscode&&(b.media.video||b.media.comments)&&800<=window.innerWidth&&(f.innerHTML+='<a class="waves-effect waves-light btn hoverable tooltipped" href="/'+(location.search||location.hash)+'&mode=tv" data-tooltip="Display more data on one screen">TV mode</a>'));f.innerHTML+="<a class=\"waves-effect waves-light btn hoverable\" onclick=\"(details.style.display = details.style.display == 'none' ? 'unset' : 'none')\">Toggle Details</a>";
if(1==b.statuscode||6==b.statuscode)count=setInterval(function(){Date.parse(b.net);Date.parse(new Date);document.title="["+Countdown(b.net)+"] "+b.name.split("|")[1];m.innerHTML=Countdown(b.net)},1E3),window.countdowns.push(count),updatecount=setInterval(function(){updateCountdown()},6E4),window.countdowns.push(updatecount);if("countdown"==$query.mode)m.style="font-size: 10rem;";else{for(var l in b.media.badge)g=b.media.badge[l],k.innerHTML+='<a class="chip '+(g.desc?'tooltipped" data-tooltip="'+
g.desc+'"':'"')+" "+(g.url?'href="'+g.url+'"':"")+">"+(g.img?'<img src="'+g.img+'">':"")+(g.name||"")+"</a>";for(l in b.media.button)g=b.media.button[l],f.innerHTML+='<a class="waves-effect waves-light btn hoverable" href="'+g.url+'" target="_blank">'+g.name+"</a>";if(navigator.onLine){var p=b.media.video.concat(b.media.info).concat(b.media.comments).concat(b.media.last),k=b.media.video,f=b.media.info.concat(b.media.comments).concat(b.media.last);f.length?document.getElementById("maintabs").innerHTML+=
'<li class="tab"><a href="#live" class="active">Live</a></li><li class="tab"><a href="#information">Info</a></li>':document.getElementById("maintabs").innerHTML+='<li class="tab"><a href="#information">Info</a></li>';g=document.createElement("div");g.id="information";$main.appendChild(g);materialize();b.missions[0]&&b.missions[0].wikiURL&&(g.innerHTML+='<div class="container"><div class="card"><div class="video-container"><iframe src="'+b.missions[0].wikiURL.replace("http://","https://")+'"  allow="autoplay; fullscreen"></iframe></div></div>');
b.rocket.wiki&&(g.innerHTML+='<div class="container"><div class="card"><div class="video-container"><iframe src="'+b.rocket.wiki+'" allow="autoplay; fullscreen"></iframe></div></div>');g.innerHTML+='<div class="container"><div class="card"><div class="video-container"><iframe src="'+b.location.map+'"  allow="autoplay; fullscreen"></iframe></div></div>';if(b.location.wikiURL||b.location.pads[0].wikiURL)g.innerHTML+='<div class="container"><div class="card"><div class="video-container"><iframe src="'+
(b.location.wikiURL||b.location.pads[0].wikiURL).replace("http://","https://")+'"  allow="autoplay; fullscreen"></iframe></div></div>';b.agency.wiki&&(g.innerHTML+='<div class="container"><div class="card"><div class="video-container"><iframe src="'+b.agency.wiki+'"  allow="autoplay; fullscreen"></iframe></div></div>');g="<option disabled selected>Select source</option>";for(e in p)g+="<option value='"+e+"'>"+p[e].name.slice(0,100)+"</option>";selectSource=function(a){e=parseInt(document.getElementById(a+
"_select").value);window.open(p[e].embed,a);document.getElementById(a+"_reload").href=p[e].embed;document.getElementById(a+"_share").href=p[e].share;document.getElementById(a).innerHTML='<iframe name="'+a+'" src="'+p[e].embed+'"  allow="autoplay; fullscreen"></iframe>'};k.length&&("tv"==$query.mode&&1<b.media.video.length?(h.innerHTML='<div class="col s12 m10 offset-m1 l6"><div class="video-container" id="videoframe1"><iframe name="videoframe1" src="'+(k[0].embed.match("\\?")?k[0].embed+"&autoplay=1":
k[0].embed+"?autoplay=1")+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="videoframe1_reload" href="'+k[0].embed+'" target="videoframe1"><i class="fas fa-sync-alt"></i></a><a id="videoframe1_share" href="'+k[0].share+'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a><select id="videoframe1_select" onchange="selectSource(\'videoframe1\')">'+g+"</select></div></div></div>"+h.innerHTML,h.innerHTML='<div class="col s12 m10 offset-m1 l6"><div class="video-container" id="videoframe2"><iframe name="videoframe2" src="'+
(k[1].embed.match("\\?")?k[1].embed+"&autoplay=1":k[1].embed+"?autoplay=1")+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="videoframe2_reload" href="'+k[1].embed+'" target="videoframe2"><i class="fas fa-sync-alt"></i></a><a id="videoframe2_share" href="'+k[1].share+'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a><select id="videoframe2_select" onchange="selectSource(\'videoframe2\')">'+g+"</select></div></div></div>"+h.innerHTML):h.innerHTML='<div class="video-container" id="videoframe1"><iframe name="videoframe1" src="'+
(k[0].embed.match("\\?")?k[0].embed+"&autoplay=1":k[0].embed+"?autoplay=1")+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="videoframe1_reload" href="'+k[0].embed+'" target="videoframe1"><i class="fas fa-sync-alt"></i></a><a id="videoframe1_share" href="'+k[0].share+'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a>'+(1<b.media.video.length?'<select id="videoframe1_select" onchange="selectSource(\'videoframe1\')">'+g+"</select>":"")+"</div></div></div>"+
h.innerHTML);f.length&&("tv"==$query.mode&&1<f.length?(a.innerHTML+='<div class="col s12 m10 offset-m1 l6"><div class="card"><div class="video-container" id="contentframe1"><iframe name="contentframe1" src="'+f[0].embed+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="contentframe1_reload" href="'+f[0].embed+'" target="contentframe1"><i class="fas fa-sync-alt"></i></a><a id="contentframe1_share" href="'+f[0].share+'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a><select id="contentframe1_select" onchange="selectSource(\'contentframe1\')">'+
g+"</select></div></div></div></div>",a.innerHTML+='<div class="col s12 m10 offset-m1 l6"><div class="card"><div class="video-container" id="contentframe2"><iframe name="contentframe2" src="'+f[f.length-1].embed+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="contentframe2_reload" href="'+f[f.length-1].embed+'" target="contentframe2"><i class="fas fa-sync-alt"></i></a><a id="contentframe2_share" href="'+f[f.length-1].share+'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a><select id="contentframe2_select" onchange="selectSource(\'contentframe2\')">'+
g+"</select></div></div></div></div>"):(a.innerHTML+='<div class="container"><div class="card"><div class="video-container" id="contentframe1"><iframe name="contentframe1" src="'+f[0].embed+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="contentframe1_reload" href="'+f[0].embed+'" target="contentframe1"><i class="fas fa-sync-alt"></i></a><a id="contentframe1_share" href="'+f[0].share+'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a><select id="contentframe1_select" onchange="selectSource(\'contentframe1\')">'+
g+"</select></div></div></div></div>",1<f.length&&3!=b.statuscode&&4!=b.statuscode&&7!=b.statuscode&&(a.innerHTML+='<div class="container"><div class="card"><div class="video-container" id="contentframe2"><iframe name="contentframe2" src="'+f[f.length-1].embed+'"  allow="autoplay; fullscreen"></iframe></div><div class="cardnav"><a id="contentframe2_reload" href="'+f[f.length-1].embed+'" target="contentframe2"><i class="fas fa-sync-alt"></i></a><a id="contentframe2_share" href="'+f[f.length-1].share+
'" target="_blank"><i class="fas fa-external-link-square-alt"></i></a><select id="contentframe2_select" onchange="selectSource(\'contentframe2\')">'+g+"</select></div></div></div></div>")));if(b.media.audio.length){h=document.createElement("div");h.className="container row";h.style="padding: 0 !important";for(l in b.media.audio)h.innerHTML+='<div class="col s12 m'+Math.floor(12/b.media.audio.length)+'"><div class="card-panel"><audio style="width:100%" controls preload="none"><source src="'+b.media.audio[l].embed+
'"></audio></br><div class="cardnav"><a class="truncate">'+b.media.audio[l].name+"</a></div></div></div>";a.appendChild(h)}if(b.media.twitter.length){h=document.createElement("div");a.appendChild(h);"tv"==$query.mode&&2<=f.length||(h.className="container");for(l in b.media.twitter)h.innerHTML+='<div class="col s12 m'+Math.floor(12/b.media.twitter.length)+'"><div class="card"><div class="video-container"><a class="twitter-timeline" data-dnt="true" href="'+b.media.twitter[l].url+'" '+($settings.dark?
' data-theme="dark"':"")+"></a></div></div></div>";twttr.widgets.load()}}else $main.className="valign-wrapper",$main.innerHTML+='<div class="container"><h1 class="white-text">You\'re offline :(</h1></div>'}})}
function settings(){restart=function(){navigator.serviceWorker.getRegistrations().then(function(a){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())c=c.value,console.log(c),c.unregister()});localStorage.clear();location.reload(!0)};$info.innerHTML='<div class="card-content"><img class="circle" src="res/settings.png" onerror=this.onerror=null;this.display="none"><h1 class="header black-text truncate">Settings</h1><div id="chips"><a class="chip" href="javascript:window.history.back();"><i class="fas fa-arrow-alt-circle-left"></i>Go Back</a></div>';$main.innerHTML=
'<div class="card"><div class="card-content"><a class="waves-effect waves-light btn hoverable" onclick="restart()">Clear Settings and Site Data</a><a class="waves-effect waves-light btn hoverable" onclick="location.reload(true);">Reload</a></div></div>';$main.innerHTML+='<div class="card"><div class="card-content"> <h3 class="header">Preferences</h3><ul class="collection with-header" id="preferences"></ul></div><div class="card-action"><a class="waves-effect waves-light btn hoverable" onclick="syncValues();location.reload(true);">Save</a></div></div>';
$main.innerHTML+='<div class="card"><div class="card-content"> <h3 class="header">Manage consent</h3><p class="flow-text">To comply with <a href="https://www.eugdpr.org/" target="_blank">EU\'s GDPR law</a>, We need to ask you for consent to use following services:</p> <ul class="collection"> <li class="collection-item avatar"> <i class="fas fa-archive circle yellow"></i> <span class="title">Cookies</span> <p>Allow us to save data between your sessions. (We need it to save your preferences below \ud83d\ude0a ) <a href="https://en.wikipedia.org/wiki/HTTP_cookie" target="_blank">What are cookies?</a></p> <a class="secondary-content"> <label> <input id="consent_cookie" type="checkbox" disabled="" checked=""> <span>Allow</span> </label></a> </li> <li class="collection-item avatar"> <i class="far fa-chart-bar circle green"></i> <span class="title">Google Analytics</span> <p>Gives us an insight into how users use the site. Data collected is 100% anonymous and is not used to target you. <a href="https://policies.google.com/privacy" target="_blank">Read the service Privacy Policy here.</a></p> <a href="#!" class="secondary-content"></a><a class="secondary-content"><label> <input id="consent_analytics" type="checkbox" checked=""> <span>Allow</span> </label></a> </li> <li class="collection-item avatar"> <i class="fab fa-google circle blue"></i> <span class="title">Google Ads</span> <p>Allows us to monetize the site content via 2 ad blocks. If you don\'t want it, consider supporting us on <a style="color:#F96854 !important" href="https://www.patreon.com/bePatron?u=3533463" target="_blank">Patreon!</a> <a href="https://policies.google.com/privacy" target="_blank">Read the service Privacy Policy here.</a></p> <a href="#!" class="secondary-content"></a><a class="secondary-content"> <label> <input id="consent_ads" type="checkbox" checked=""> <span>Allow</span> </label></a> </li> <li class="collection-item avatar"> <i class="far fa-bell circle red"></i> <span class="title">OneSignal</span> <p>Get launch notifications and updates about launches and spaceflight news right to your device. <a href="https://onesignal.com/privacy_policy" target="_blank">Read the service Privacy Policy here.</a></p> <a class="secondary-content"> <label> <input id="consent_onesignal" type="checkbox" checked=""> <span>Allow</span> </label></a> </li> <li class="collection-item avatar"> <i class="fas fa-video circle orange"></i> <span class="title">Vidpulse</span> <p>Video recomendations at the end of each launch videos - helps you find more great content! <a href="https://www.vidpulse.com/privacy.html" target="_blank">Read the service Privacy Policy here.</a></p> <a class="secondary-content"> <label> <input id="consent_vidpulse" type="checkbox" checked=""> <span>Allow</span> </label></a> </li> <li class="collection-item avatar"> <i class="fab fa-twitter circle yellow"></i> <span class="title"><a href="https://policies.google.com/privacy" target="_blank">YouTube</a>, <a href="https://twitter.com/en/privacy" target="_blank">Twitter</a>, <a href="https://widgetbot.io/legal/privacy-policy/" target="_blank">Widgetbot</a> and other embeds on this site.</span> <p>Embeds and widgets provide the core functionality of this site. 3rd pary scripts allow us to embed Twitter, Reddit and Discord feeds right on the site. </p> <a class="secondary-content"> <label> <input id="consent_thirdparty" type="checkbox" checked="" disabled=""> <span>Allow</span> </label></a> </li> </ul> <p class="flow-text">This site itself does not store nor process any user data. The services you give us consent to use help enrich your experience and give us insight into what we should improve on. If you have any questions, join our <a style="color:#7289DA !important" href="https://discord.io/rocketwatch" target="_blank">Discord server</a> or contact us <a href="mailto:contact@rocket.watch" target="_blank">via email</a>.</p> </div> <div class="card-action"> <a onclick="processConsent();syncValues();" class="modal-action modal-close waves-effect btn">Save</a></div>';
var d={dark:"Dark Mode",notifications_launches:"Launch Notifications",notifications_launches_webcast:"Launches with webcasts only",notifications_launches_60:"1 Hour Notification",notifications_launches_24:"24 Hour Notification",notifications_launches_20:"20 Minutes Notification",notifications_news:"News Notifications"},c;for(c in $settings)document.getElementById("preferences").innerHTML+='<li class="collection-item"><p><label><input onclick="saveValue(this.id, this.checked)" type="checkbox" id="'+
c+'" '+($settings[c]?"checked":"")+" /><span>"+(d[c]?d[c]:c)+"</span></label></p></li>";(d=JSON.parse(localStorage.getItem("consent-v"+consentVersion)))?(document.querySelector("#consent_analytics").checked=d.analytics,document.querySelector("#consent_ads").checked=d.ads,document.querySelector("#consent_onesignal").checked=d.onesignal,document.querySelector("#consent_vidpulse").checked=d.vidpulse,document.querySelector("#consent_thirdparty").checked=d.thirdparty):M.toast({html:"You have not saved your consent preferences yet!"})}
function saveValue(d,c){$settings=JSON.parse(localStorage.getItem("rocketwatch.Settings"));$settings[d]=c;localStorage.setItem("rocketwatch.Settings",JSON.stringify($settings));M.toast({html:"Saved! "+d+": "+c});console.log(d+": "+c);syncValues()}
function syncValues(){(window.OneSignal=window.OneSignal||[]).push(function(){OneSignal.push(function(){localStorage.getItem("rocketwatch.Settings")&&OneSignal.isPushNotificationsEnabled(function(d){var c=JSON.parse(localStorage.getItem("consent-v"+consentVersion)),a=JSON.parse(localStorage.getItem("rocketwatch.Settings"));a&&d&&OneSignal.sendTags(Object.assign(a,c)).then(function(a){console.log("[Settings] Tags synchronised");console.log(a)})})})})}
function load(d,c){var a=JSON.parse(localStorage.getItem(d));a&&0>=Date.now()-a.expire&&"error"!=a.status?c&&c(a):getJSON("https://api.rocket.watch/"+d,function(a){localStorage.setItem(d,JSON.stringify(a));c&&c(a)})}
function materialize(){M.Sidenav.init(document.querySelector(".sidenav"));M.Sidenav.getInstance(document.querySelector(".sidenav")).close();M.Materialbox.init(document.querySelectorAll(".materialboxed"));M.Tabs.init(document.querySelectorAll("ul.tabs"));M.Tooltip.init(document.querySelectorAll(".tooltipped"))}
function ISODateString(d){function c(a){return 10>a?"0"+a:a}d=new Date(d);return d.toISOString()||d.getUTCFullYear()+"-"+c(d.getUTCMonth()+1)+"-"+c(d.getUTCDate())+"T"+c(d.getUTCHours())+":"+c(d.getUTCMinutes())+":"+c(d.getUTCSeconds())+"Z"}function ReadableDateString(d){d=new Date(d);return d.getFullYear()+"-"+("0"+(d.getMonth()+1)).slice(-2)+"-"+("0"+d.getDate()).slice(-2)+" "+("0"+d.getHours()).slice(-2)+":"+("0"+d.getMinutes()).slice(-2)+":"+("0"+d.getSeconds()).slice(-2)}
function Countdown(d,c){padnumber=function(a,c){for(var b=a+"";b.length<c;)b="0"+b;return b};count=function(a){var c,b=Date.parse(a),d=new Date(ServerDate.now());a=Math.floor((b-d)/1E3);var h="L- ";0>=a&&(h="L+ ",a=Math.floor((d-b)/1E3));var b=Math.floor(a/60),d=Math.floor(b/60),f=Math.floor(d/24),m=padnumber(a%60,2);60>a&&(c=h+m);m=padnumber(b%60,2)+":"+m;60>b&&(c=h+m);m=padnumber(d%24,2)+":"+m;24>d&&(c=h+m);1<f?c=h+f+" days "+m:1==f&&(c=h+f+" day "+m);return c};c&&(countdown=setInterval(function(){(document.getElementById(c)||
c).innerHTML=count(d)},1E3),window.countdowns.push(countdown));return count(d)}function QueryString(d,c){for(var a={},e=(c&&c.split("?")[1]||(window.location.search||location.hash).substring(1)).split("&"),b=0;b<e.length;b++){var n=e[b].split("=");if("undefined"===typeof a[n[0]])a[n[0]]=decodeURIComponent(n[1]);else if("string"===typeof a[n[0]]){var h=[a[n[0]],decodeURIComponent(n[1])];a[n[0]]=h}else a[n[0]].push(decodeURIComponent(n[1]))}d&&d(a);return a}
function getJSON(d,c){try{var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState)if("{"==a.responseText.split()[0]||200==a.status){var d=JSON.parse(a.responseText);d.timestamp=Date.now();c(d)}else d={timestamp:Date.now(),status:a.status||"error",code:a.statusText,msg:a.responseText},c(d),console.log(d)};a.open("GET",d);a.send()}catch(e){console.log(e)}}
"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/serviceworker.js").then(function(){console.log("rocket.watch serviceworker install successful")})["catch"](function(d){console.log("rocket.watch serviceworker install failed: ",d)})});
var cache="agency/spx?mode=verbose&format=news launch?limit=200&mode=summary&sort=desc&name=&lsp=121&format=stats agency/ula?mode=verbose&format=news launch?limit=200&mode=summary&sort=desc&name=&lsp=124&format=stats agency/asa?mode=verbose&format=news launch?limit=200&mode=summary&sort=desc&name=&lsp=115&format=stats agency/rfsa?mode=verbose&format=news launch?limit=200&mode=summary&sort=desc&name=&lsp=63&format=stats launch?mode=verbose&limit=20&sort=desc&status=3,4,7&offset=0 launch?mode=verbose&limit=20&status=1,2,5,6&offset=0 location?limit=30&mode=verbose&retired=0&offset=0 agency?limit=30&islsp=1&offset=0 rocket?mode=verbose&limit=30&offset=0".split(" "),i;
for(i in cache)load(cache[i]);load("launch/next/4?status=1,5,6",function(d){for(var c in d.launches)load("launch?mode=verbose&id="+d.launches[c].id+"&format=live")});load("launch?limit=4&sort=desc&mode=summary&status=3,4,7",function(d){for(var c in d.launches)load("launch?mode=verbose&id="+d.launches[c].id+"&format=live")});
for(i in localStorage){data=localStorage.getItem(i);if(null===data)break;(timestamp=((data.split('"expire":')[1]||"").split("}")[0]||"").split(",")[0])&&timestamp<Date.now()&&localStorage.removeItem(i)};
